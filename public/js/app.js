const openChatBtn = document.getElementById('open-chat');
        const closeChatBtn = document.getElementById('close-chat');
        const chatWindowEl = document.getElementById('chat-window');
        const chatMessagesEl = document.getElementById('chat-messages');
        const chatInputEl = document.getElementById('chat-input');

        function getCurrentTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            return `${hours}:${minutes}`;
        }

        function createMessageBubble(message, isSent) {
            const bubble = document.createElement('div');
            bubble.className = isSent ? 'sent-bubble' : 'received-bubble';
            bubble.textContent = message;
            return bubble;
        }

        async function addMessage(message, isSent) {
            const bubble = createMessageBubble(message, isSent);
            const p = document.createElement('p');
            const currentTime = getCurrentTime();
            p.textContent = `[${currentTime}]`;
            p.appendChild(bubble);
            chatMessagesEl.appendChild(p);
        }

        openChatBtn.addEventListener('click', () => {
            chatWindowEl.style.display = 'block';
        });

        closeChatBtn.addEventListener('click', () => {
            chatWindowEl.style.display = 'none';
        });

        chatInputEl.addEventListener('keyup', async (event) => {
            if (event.key === 'Enter') {
                const userMessage = chatInputEl.value.trim();
                if (userMessage) {
                    await addMessage(userMessage, true); // Agrega el mensaje del usuario al chat
                    const botResponse = await getResponse(userMessage);
                    await addMessage(botResponse, false); // Agrega la respuesta del bot al chat
                    chatInputEl.value = '';
                }
            }
        });

        function getResponse(userMessage) {
            userMessage = userMessage.toLowerCase();
            //saludo
            if (userMessage.includes('hola') || userMessage.includes('saludos')) {
                return 'Hola, ¿en qué puedo ayudarte?';
            //estado
            } else if (userMessage.includes('como te sientes') ||userMessage.includes('como va') ||userMessage.includes('como vas') || userMessage.includes('como estas')) {
                return 'Soy un programa de computadora, así que no tengo emociones, pero estoy listo para ayudarte.';
            //bien
            } else if (userMessage.includes('bueno') ||userMessage.includes('maravilloso') ||userMessage.includes('estupendo') || userMessage.includes('bien')) {
                return 'bueno';
            //gracias
            } else if (userMessage.includes('gracias')) {
                return 'De nada, siempre a la orden.';
            }
            //nombre
            else if (userMessage.toLowerCase().includes('nombre')) {
                return 'Soy un chatbot y no tengo un nombre en particular.';
            //funcion
            } else if (userMessage.toLowerCase().includes('como funciona un chatbot')) {
                return 'Un chatbot es un programa de computadora diseñado para interactuar con usuarios como tú. Utiliza algoritmos y procesamiento del lenguaje natural para entender y responder preguntas.';
            //tegnologia
            } else if (userMessage.toLowerCase().includes('tecnologia utilizas')) {
                return 'Estoy basado en python con respuestas escritas manualmente.';
            //fecha
            }else if (userMessage.includes('fecha estamos') ||userMessage.includes('fecha es') || userMessage.toLowerCase().includes('fecha actual')) {
                const now = new Date();
                const options = { year: 'numeric', month: 'long', day: 'numeric'};
                const formattedDate = now.toLocaleDateString('es-ES', options);
                return `La fecha actual es ${formattedDate}.`;
            //hora
            }else if (userMessage.includes('hora es') ||userMessage.toLowerCase().includes('hora actual')) {
                const now = new Date();
                const options2 = { hour: '2-digit', minute: '2-digit' };
                const formattedDate = now.toLocaleDateString('es-ES', options2);
                return `La hora actual es ${formattedDate}.`;
            
            //chiste
            } else if (userMessage.toLowerCase().includes('chiste')) {
                return '¿Por qué el libro de matemáticas se tiró por la ventana? Porque tenía demasiados problemas.';
            //lugarchatbot
            } else if (userMessage.includes('donde estas') ||userMessage.toLowerCase().includes('donde te encuentras')) {
                return 'Estoy en línea, listo para responder tus preguntas en este chat.';
            //contacto
            } else if (userMessage.includes('como te encuentro') ||userMessage.includes('como te contacto') ||userMessage.toLowerCase().includes('como puedo contactarte')) {
                return 'Puedes comunicarte conmigo a través de este chat en línea.';
            //malware
            }else  if (userMessage.includes('malware') ||userMessage.includes('que es malware') ||userMessage.toLowerCase().includes('que es el malware')) {
                return 'El malware es un término que se refiere a software malicioso diseñado para dañar, robar información o realizar acciones perjudiciales en un dispositivo o sistema informático.';
            //proteccion
            } else if (userMessage.includes('como me protejo') ||userMessage.includes('proteccion') ||userMessage.toLowerCase().includes('como protegerse contra el malware')) {
                return 'Para protegerse contra el malware, es importante mantener el software actualizado, utilizar software antivirus, evitar descargar archivos de fuentes no confiables y ser cauteloso al hacer clic en enlaces o abrir adjuntos de correo electrónico.';
            //que hacer
            } else if (userMessage.includes('como se que mi computadora') ||userMessage.includes('que pasa si sospecho') ||userMessage.includes('que hacer si mi computadora') ||userMessage.toLowerCase().includes('que hacer si mi computadora esta infectada con malware')) {
                return 'Si sospechas que tu computadora está infectada con malware, escanea tu sistema con un programa antivirus, sigue las instrucciones para eliminar el malware y cambia tus contraseñas. Consulta a un profesional si es necesario.';
            //tipos
            } else if (userMessage.includes('diversos tipos') ||userMessage.includes('tipos') ||userMessage.toLowerCase().includes('tipos de malware comunes')) {
                return 'Los tipos comunes de malware incluyen virus, gusanos, troyanos, ransomware, spyware y adware, entre otros.';
            //ransoware
            } else if (userMessage.includes('ransomware') ||userMessage.includes('que es ransomware') ||userMessage.toLowerCase().includes('que es el ransomware')) {
                return 'El ransomware es un tipo de malware que cifra tus archivos y exige un rescate para descifrarlos. No se recomienda pagar el rescate; en su lugar, busca ayuda profesional.';
            //software
            } else if (userMessage.includes('software no oficiales') ||userMessage.includes('que pasa si descargo') ||userMessage.toLowerCase().includes('descargar software de sitios no oficiales')) {
                return 'No es seguro descargar software o archivos de sitios web no oficiales, ya que pueden contener malware. Siempre utiliza fuentes confiables.';
    
            //no entiende
            } else {
                return 'Lo siento, no entiendo la pregunta. Por favor, sé más específico.';
            }
        }
        
